<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
 <mapper namespace="com.pickme.beeze.product.dao.ProductDao">
 
  
 <!-- 전체 상품 목록 -->
 <select id="productlist" parameterType="com.pickme.beeze.product.dto.ProductParam"
				resultType="com.pickme.beeze.product.dto.ProductDto">
	select id, name, price, url
 	from product
	<if test="search != null and search != ''">
		where name like concat('%', #{search}, '%')
	</if>
 	order by id desc
	limit ${(pageNumber * 8)}, 8
</select>

 
 <!-- 전체 상품 수 -->
<select id="getallproduct" parameterType="com.pickme.beeze.product.dto.ProductDto"
				resultType="java.lang.Integer">
	select count(*) 
	from product
	<if test="search != null and search != '' ">
		where name like concat('%', #{search}, '%')
	</if>
</select>
 
  
 <!-- 상품 상세보기 -->
 <select id = "productdetail" parameterType="java.lang.Integer" resultType="com.pickme.beeze.product.dto.ProductDto">
 	select id, name, price, url
 	from product
 	where id=#{id}
 </select>
  
 
 
 
 </mapper>
 